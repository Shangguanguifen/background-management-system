(this.webpackJsonpa=this.webpackJsonpa||[]).push([[5],{178:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="CREAT_SET_ROLES"},302:function(e,t,n){},308:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(24),i=n.n(c),o=n(93),s=n(31),l=n(38),u=n(18),d=n(440),j=n(443),h=n(436),p=n(441),b=n(442),m=n(4),O=[{path:"/",title:"\u9996\u9875",exact:!0,menu:!0,icon:Object(m.jsx)(d.a,{}),component:a.a.lazy((function(){return n.e(14).then(n.bind(null,655))}))},{path:"/product",title:"\u5546\u54c1",icon:Object(m.jsx)(j.a,{}),children:[{path:"/product/productList",title:"\u5546\u54c1\u7ba1\u7406",exact:!0,menu:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,656))}))},{path:"/product/save/:id?",title:"\u65b0\u589e\u5546\u54c1",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(8),n.e(16)]).then(n.bind(null,654))}))},{path:"/product/detail/:pid",title:"\u5546\u54c1\u8be6\u60c5",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,645))}))},{path:"/product/categoryList/:id?",title:"\u54c1\u7c7b\u7ba1\u7406",exact:!0,menu:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,646))}))},{path:"/category/add",exact:!0,title:"\u65b0\u589e\u54c1\u7c7b",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,647))}))}]},{path:"/order",title:"\u8ba2\u5355",icon:Object(m.jsx)(h.a,{}),children:[{path:"/order/orderList",title:"\u8ba2\u5355\u7ba1\u7406",menu:!0,exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13)]).then(n.bind(null,648))}))},{path:"/order/detail/:id",title:"\u8ba2\u5355\u8be6\u60c5",exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,649))}))}]},{path:"/user",title:"\u7528\u6237",icon:Object(m.jsx)(p.a,{}),children:[{path:"/user/userList",title:"\u7528\u6237\u7ba1\u7406",menu:!0,exact:!0,component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(19)]).then(n.bind(null,650))}))}]},{path:"/test",title:"\u6743\u9650\u6d4b\u8bd5",icon:Object(m.jsx)(b.a,{}),children:[{path:"/test/authority",title:"\u6743\u9650\u7ec4\u4ef6",menu:!0,exact:!0,component:a.a.lazy((function(){return n.e(4).then(n.bind(null,657))}))},{path:"/test/permission",title:"\u9875\u9762\u6743\u9650(admin)",menu:!0,children:[{path:"/test/permission/third",title:"\u4e09\u7ea7\u8def\u7531",authority:!0,menu:!0,exact:!0,component:a.a.lazy((function(){return n.e(4).then(n.bind(null,657))}))}]}]},{path:"/404",exact:!0,title:"404",component:a.a.lazy((function(){return n.e(18).then(n.bind(null,651))}))},{path:"/*",title:"redirect",component:function(){return Object(m.jsx)(u.a,{to:"/404"})},redirect:"/404"}],f=n(59),x=(n(146),n(50)),g=n.n(x),y=(n(229),n(56)),v=n.n(y),w=n(438),S=n(437),N=(n(231),n(99)),k=n.n(N),T=n(182),E=n(439);var I=function(e){var t=e.urlDetail,n=e.routes,a=Object(r.useState)([]),c=Object(f.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){var e=function(e,t){var n=[];return function e(t,r){var a=Object(T.a)(t,r);if(a[0].route.title)return n.push(a[0].route.title),a[0].route&&a[0].route.children?e(a[0].route.children,r):n}(e,t)}(n,t.pathname);o(e)}),[t]),Object(m.jsxs)(k.a,{style:{margin:"16px 0"},children:[Object(m.jsx)(k.a.Item,{children:Object(m.jsxs)(s.b,{to:"/",children:[" ",Object(m.jsx)(E.a,{})," "]})}),i.map((function(e,t){return Object(m.jsx)(k.a.Item,{children:e},t)}))]})},P=(n(302),n(92)),L=n(57),_=new P.a,z=new L.a,C=v.a.Header,D=v.a.Content,R=v.a.Footer,U=v.a.Sider,A=g.a.SubMenu;function F(e){return e.map((function(e){return e.children?Object(m.jsx)(A,{title:e.title,icon:e.icon,children:J(e.children)},e.path):J(e)}))}function J(e){return e instanceof Array?e.map((function(e){if(e.children)return F([e]);e.menu&&(g.a.Item,s.c,e.path,e.title,e.path);return"/product/categoryList/:id?"===e.path?e.menu?Object(m.jsx)(g.a.Item,{children:Object(m.jsx)(s.c,{to:"/product/categoryList",children:e.title})},e.path):null:e.menu?Object(m.jsx)(g.a.Item,{children:Object(m.jsx)(s.c,{to:e.path,children:e.title})},e.path):null})):e.menu?Object(m.jsx)(g.a.Item,{icon:e.icon,children:Object(m.jsx)(s.c,{to:e.path,children:e.title})},e.path):null}var q=Object(u.g)((function(e){var t=Object(r.useState)(!1),n=Object(f.a)(t,2),a=n[0],c=n[1],i=z.getStorage("userInfo").username;return Object(m.jsxs)(v.a,{style:{minHeight:"100vh"},children:[Object(m.jsxs)(U,{collapsible:!0,collapsed:a,onCollapse:function(e){c(e)},children:[Object(m.jsx)("div",{className:"logo",children:" \u540e\u53f0\u7ba1\u7406 "}),Object(m.jsx)(g.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:F(O)})]}),Object(m.jsxs)(v.a,{className:"site-layout",children:[Object(m.jsx)(C,{className:"site-layout-background",children:Object(m.jsxs)("div",{className:"login-out",children:[Object(m.jsxs)("div",{className:"login-title",children:[Object(m.jsx)(p.a,{style:{marginRight:"8px"}}),i?"\u6b22\u8fce\uff1a".concat(i):"\u6b22\u8fce\u60a8",Object(m.jsx)(w.a,{})]}),Object(m.jsxs)("div",{className:"login-out-content",onClick:function(){_.onLogOut().then((function(e){z.removeStorage("userInfo"),window.location.href="/login",z.successTips(e)})).catch((function(e){z.errorTips(e)}))},children:[Object(m.jsx)(S.a,{style:{paddingRight:"12px",boxSizing:"border-box"}})," \u9000\u51fa\u767b\u5f55"]})]})}),Object(m.jsxs)(D,{style:{margin:"0 16px"},children:[Object(m.jsx)(I,{urlDetail:e.location,routes:O}),Object(m.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360,background:"#fff"},children:e.children})]}),Object(m.jsx)(R,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})]})})),X=(n(79),n(58)),B=n.n(X),H=(n(189),n(75)),V=n.n(H),$=(n(131),n(105)),K=n.n($),M=(n(308),n(435)),G=new P.a,Q=new L.a,W=function(e){var t=Object(r.useState)(Q.getUrlParam("redirect")||"/"),n=Object(f.a)(t,1)[0];return Object(m.jsxs)("div",{className:"login-content",children:[Object(m.jsxs)("div",{className:"login-header",children:[Object(m.jsx)("h1",{className:"title",children:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"}),Object(m.jsx)("p",{className:"tip",children:"\u4e3a\u4fdd\u62a4\u4f01\u4e1a\u7684\u6570\u636e\u5b89\u5168\uff0c\u8bf7\u59a5\u5584\u4fdd\u7ba1\u5bc6\u7801"})]}),Object(m.jsxs)(V.a,{name:"normal_login",className:"login-form",onFinish:function(t){var r={username:t.username,password:t.password};G.login(r).then((function(t){Q.successTips("\u767b\u5f55\u6210\u529f"),Q.setStorage("userInfo",t),e.history.push(n)})).catch((function(e){Q.errorTips(e)}))},initialValues:{username:"admin",password:"admin"},children:[Object(m.jsx)(V.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(m.jsx)(K.a,{prefix:Object(m.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(m.jsx)(V.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(m.jsx)(K.a,{prefix:Object(m.jsx)(M.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(m.jsx)(V.a.Item,{children:Object(m.jsx)(B.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{width:"100%",borderRadius:"4px"},children:"Log in"})})]})]})},Y=n(180),Z=(n(195),n(145)),ee=n.n(Z),te=n(60),ne=n(61),re=n(98),ae=n(185),ce=n(184),ie=(n(214),n(176)),oe=n.n(ie).a.Paragraph,se=function(e){Object(ae.a)(n,e);var t=Object(ce.a)(n);function n(e){var r;return Object(te.a)(this,n),(r=t.call(this,e)).state={hasError:!1,errorText:""},r.clearError=r.clearError.bind(Object(re.a)(r)),r}return Object(ne.a)(n,[{key:"clearError",value:function(){this.setState({hasError:!1,errorText:""})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.errorText,r=this.props.children;return t?Object(m.jsx)(ee.a,{status:"error",title:"\u9875\u9762\u51fa\u73b0\u9519\u8bef",subTitle:"\u7ec4\u4ef6\u6e32\u67d3\u65f6\u51fa\u73b0\u7684\u9519\u8bef",extra:Object(m.jsx)(s.b,{to:"/",children:Object(m.jsx)(B.a,{onClick:this.clearError,type:"primary",children:"\u5ffd\u7565\u9519\u8bef\uff0c\u8fd4\u56de\u9996\u9875"})}),children:Object(m.jsx)("div",{className:"desc",children:Object(m.jsx)(oe,{children:n})})}):r}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorText:JSON.stringify(e)}}}]),n}(r.PureComponent);function le(e,t){return Object(m.jsx)("div",{children:Object(m.jsx)(se,{children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)("div",{children:"loading~~~~"}),children:Object(m.jsx)(e,Object(l.a)({},t))})})})}var ue=function(e){var t=e.path,r=e.component,c=Object(Y.a)(e,["path","component"]);if(!r)return Object(m.jsx)(u.b,Object(l.a)({path:t},c));if(e.authority&&!e.permission){var i=a.a.lazy((function(){return n.e(17).then(n.bind(null,652))}));return Object(m.jsx)(u.b,Object(l.a)(Object(l.a)({path:t},c),{},{render:function(e){return le(i,e)}}))}return Object(m.jsx)(u.b,Object(l.a)(Object(l.a)({path:t},c),{},{render:function(e){return le(r,e)}}))};function de(e,t){var n=!1;return t.indexOf("admin")>-1&&(n=!0),e.map((function(e){return e.children?de(e.children,t):(e.component,Object(m.jsx)(ue,Object(l.a)(Object(l.a)({},e),{},{permission:n}),e.path))}))}var je=function(){var e=Object(o.c)((function(e){return e.roles})),t=Object(m.jsx)(q,{children:Object(m.jsx)(u.d,{children:de(O,e)})});return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{path:"/login",component:W}),Object(m.jsx)(u.b,{path:"/",render:function(e){return t}})]})})},he=(n(428),function(e){e&&e instanceof Function&&n.e(20).then(n.bind(null,653)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),pe=n(94),be=n(178),me={roles:["user"]},Oe=Object(pe.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case be.a:n.roles=t.value;break;default:return n}return n}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(m.jsx)(s.a,{children:Object(m.jsx)(o.a,{store:Oe,children:Object(m.jsx)(je,{})})}),document.getElementById("root")),he()},57:function(e,t,n){"use strict";n(303);var r=n(76),a=n.n(r),c=n(60),i=n(61),o=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"request",value:function(e){var t=this;return new Promise((function(n,r){$.ajax({type:e.type||"get",url:e.url||"",dataType:e.dataType||"json",data:e.data||null,success:function(e){0===e.status?"function"===typeof n&&n(e.data,e.msg):10===e.status?t.doLogin():"function"===typeof r&&r(e.msg||e.data)},error:function(e){"function"===typeof r&&r(e.msg||e.data)}})}))}},{key:"doLogin",value:function(){window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname)}},{key:"getUrlParam",value:function(e){var t=window.location.search.split("?")[1]||"",n=new RegExp("(^|&)"+e+"=([^&]*()&|$)"),r=t.match(n);return r?decodeURIComponent(r[2]):null}},{key:"errorTips",value:function(e){a.a.error(e||"An error has occurred")}},{key:"successTips",value:function(e){a.a.success(e||"Successful operation")}},{key:"setStorage",value:function(e,t){var n=this.checkedType(t);"Object"===n?window.localStorage.setItem(e,JSON.stringify(t)):-1!==["Number","String","Boolean".indexOf(n)]?window.localStorage.setItem(e,t):this.errorTips("\u8be5\u7c7b\u578b\u4e0d\u80fd\u7528\u4e8e\u672c\u5730\u5b58\u50a8")}},{key:"getStorage",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):""}},{key:"removeStorage",value:function(e){window.localStorage.removeItem(e)}},{key:"checkedType",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}();t.a=o},92:function(e,t,n){"use strict";var r=n(60),a=n(61),c=new(n(57).a),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"login",value:function(e){return c.request({type:"post",url:"/manage/user/login.do",data:e})}},{key:"onLogOut",value:function(){return c.request({type:"post",url:"/user/logout.do"})}},{key:"getUserList",value:function(e){return c.request({type:"post",url:"/manage/user/list.do",data:{pageNum:e}})}}]),e}();t.a=i}},[[429,6,7]]]);
//# sourceMappingURL=main.0060890e.chunk.js.map