{"version":3,"sources":["store/actionTypes.js","router/index.js","util/Breadcrumb/index.jsx","component/layout/index.jsx","page/login/index.jsx","page/error/index.jsx","router/renderRouter.js","App.js","reportWebVitals.js","store/reducer.js","store/index.js","index.js","util/common.js","service/userService.js"],"names":["CREAT_SET_ROLES","router","path","title","exact","menu","icon","DesktopOutlined","component","React","lazy","UnorderedListOutlined","children","FormOutlined","UserOutlined","MinusCircleOutlined","authority","to","redirect","BreadcrumbItem","urlDetail","routes","useState","breadcrumbItem","setBreadcrumbItem","useEffect","matchTitleArr","pathname","result","recursion","branch","matchRoutes","route","push","getMatchRoute","style","margin","Item","HomeOutlined","map","item","index","_userService","UserService","_commonUtil","CommonUtil","Header","Content","Footer","Sider","SubMenu","showMenu","showMenuItem","Array","withRouter","props","collapsed","setCollapsed","username","getStorage","minHeight","collapsible","onCollapse","className","theme","defaultSelectedKeys","mode","marginRight","CaretDownOutlined","onClick","onLogOut","then","res","removeStorage","window","location","href","successTips","catch","err","errorTips","LoginOutlined","paddingRight","boxSizing","Breadcrumb","padding","background","textAlign","_user","User","LoginForm","getUrlParam","name","onFinish","values","loginInfo","password","login","setStorage","history","initialValues","rules","required","message","prefix","placeholder","LockOutlined","type","htmlType","width","borderRadius","Paragraph","ERROR_ENUM","MyErrorBoundary","handleError","error","errorInfo","setData","hasError","handleLoadingChunkError","loadFailed","RegExp","match","errorType","loadingChunk","sessionStorage","getItem","_","isNumber","setItem","reload","state","errorText","clearError","bind","this","setState","status","subTitle","extra","JSON","stringify","PureComponent","resolveAsyncCompoment","LazyCompoment","routeProps","fallback","RenderRouter","otherProps","permission","AuthorityError","render","routesMap","roles","indexOf","App","useSelector","LayoutRouter","routers","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultState","createStore","action","newState","parse","actionTypes","value","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","basename","store","document","getElementById","params","Promise","resolve","reject","$","ajax","url","dataType","data","success","msg","doLogin","encodeURIComponent","queryString","search","split","reg","decodeURIComponent","errMsg","checkedType","localStorage","removeItem","target","Object","prototype","toString","call","slice","_CommonUtil","request","pageNum"],"mappings":"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","file":"static/js/main.07bcd717.chunk.js","sourcesContent":["export const CREAT_SET_ROLES = 'CREAT_SET_ROLES';","/*\r\n * @Author: Guifen Shangguan \r\n * @Date: 2021-04-12 16:42:05 \r\n * @Last Modified by: Guifen Shangguan\r\n * @Last Modified time: 2021-05-03 21:28:08\r\n */\r\nimport React from 'react';\r\nimport {\r\n  UnorderedListOutlined,\r\n  MinusCircleOutlined,\r\n  DesktopOutlined,\r\n  FormOutlined,\r\n  UserOutlined,\r\n} from '@ant-design/icons';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst router = [\r\n  {\r\n    path: '/',\r\n    title: '首页',\r\n    exact: true,\r\n    menu: true,\r\n    icon: <DesktopOutlined />,\r\n    component: React.lazy(() => import('page/home')),\r\n  }, \r\n  {\r\n    path: '/product',\r\n    title: '商品',\r\n    icon: <UnorderedListOutlined />,\r\n    children: [\r\n      {\r\n        path: '/product/productList',\r\n        title: '商品管理',\r\n        exact: true,\r\n        menu: true,\r\n        component: React.lazy(() => import('page/product/productList')),\r\n      }, {\r\n        path: '/product/save/:id?',\r\n        title: '新增商品',\r\n        exact: true,\r\n        component: React.lazy(() => import('page/product/productList/save')),\r\n      }, {\r\n        path: '/product/detail/:pid',\r\n        title: '商品详情',\r\n        exact: true,\r\n        component: React.lazy(() => import('page/product/productList/detail')),\r\n      }, {\r\n        path: '/product/categoryList/:id?',\r\n        title: '品类管理',\r\n        exact: true,\r\n        menu: true,\r\n        component: React.lazy(() => import('page/product/category')),\r\n      }, {\r\n        path: '/category/add',\r\n        exact: true,\r\n        title: '新增品类',\r\n        component: React.lazy(() => import('page/product/category/add'))\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/order',\r\n    title: '订单',\r\n    icon: <FormOutlined />,\r\n    children: [\r\n      {\r\n        path: '/order/orderList',\r\n        title: '订单管理',\r\n        menu: true,\r\n        exact: true,\r\n        component: React.lazy(() => import('page/order')),\r\n      }, {\r\n        path: '/order/detail/:id',\r\n        title: '订单详情',\r\n        exact: true,\r\n        component: React.lazy(() => import('page/order/detail')),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/user',\r\n    title: '用户',\r\n    icon: <UserOutlined />,\r\n    children: [\r\n      {\r\n        path: '/user/userList',\r\n        title: '用户管理',\r\n        menu: true,\r\n        exact: true,\r\n        component: React.lazy(() => import('page/user')),\r\n      }\r\n    ]\r\n  }, {\r\n    path: '/test',\r\n    title: '权限测试',\r\n    icon: <MinusCircleOutlined />,\r\n    children: [\r\n      {\r\n        path: '/test/authority',\r\n        title: '权限组件',\r\n        menu: true,\r\n        exact: true,\r\n        component: React.lazy(() => import('page/authority')),\r\n      },\r\n      {\r\n        path: '/test/permission',\r\n        title: '页面权限(admin)',\r\n        menu: true,\r\n        children: [{\r\n          path: '/test/permission/third',\r\n          title: '三级路由',\r\n          authority: true,\r\n          menu: true,\r\n          exact: true,\r\n          component: React.lazy(() => import('page/authority')),\r\n        }]\r\n      }\r\n    ]\r\n  }, {\r\n    path: '/404',\r\n    exact: true,\r\n    title: '404',\r\n    component: React.lazy(() => import('page/error/unExistError')),\r\n  }, {\r\n    path: '/*',\r\n    title: \"redirect\",\r\n    component: () => <Redirect to=\"/404\" />,\r\n    redirect: '/404',\r\n  }, \r\n]\r\n\r\nexport default router","/*\n * @Author: Guifen Shangguan \n * @Date: 2021-04-12 16:11:56 \n * @Last Modified by: Guifen Shangguan\n * @Last Modified time: 2021-05-09 15:37:33\n */\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Breadcrumb } from 'antd';\nimport { matchRoutes} from \"react-router-config\";\nimport {\n  HomeOutlined\n} from '@ant-design/icons';\n\n\n\nfunction BreadcrumbItem({urlDetail, routes}) {\n  const [breadcrumbItem, setBreadcrumbItem] = useState([]);\n\n  const getMatchRoute = (routes, pathname) => {\n    let result = [];\n    const recursion = (routes, pathname) => {\n      const branch = matchRoutes(routes, pathname);\n\n      if(!branch[0].route.title) {\n        return;\n      }\n      result.push(branch[0].route.title);\n      if(branch[0].route && branch[0].route.children) {\n        return recursion(branch[0].route.children, pathname)\n      }\n      return result;\n    }\n    return recursion(routes, pathname);\n  }\n\n  useEffect(() => {\n    let matchTitleArr = getMatchRoute(routes, urlDetail.pathname);\n    setBreadcrumbItem(matchTitleArr);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [urlDetail])\n  return (\n    <Breadcrumb style={{ margin: '16px 0' }}>\n      <Breadcrumb.Item>\n        <Link to='/'> <HomeOutlined /> </Link>\n      </Breadcrumb.Item>\n      {\n        breadcrumbItem.map((item, index) => {\n          return <Breadcrumb.Item key={index}>{item}</Breadcrumb.Item>\n        })\n      }\n    </Breadcrumb>\n  );\n}\n\nexport default BreadcrumbItem;\n","import { useState } from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport {\n  UserOutlined,\n  CaretDownOutlined,\n  LoginOutlined\n} from '@ant-design/icons';\nimport BreadcrumbItem from 'util/Breadcrumb'\n\nimport './index.scss';\nimport routes from 'router/index'\nimport UserService from 'service/userService';\nimport CommonUtil from 'util/common';\n\n\nlet _userService = new UserService();\nlet _commonUtil = new CommonUtil();\n\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nfunction showMenu(routes) {\n  return routes.map(item => {\n    return item.children\n      ? <SubMenu key={item.path} title={item.title} icon={item.icon}>{showMenuItem(item.children)}</SubMenu>\n      : showMenuItem(item)\n  })\n}\n\nfunction showMenuItem(routes) {\n  if(routes instanceof Array) {\n    // children\n    return routes.map(item => {\n      if(item.children) {\n        // 三级以上路由存在\n        return showMenu([item])\n      }\n      const result = item.menu\n      ? (<Menu.Item key={item.path}>\n          <NavLink to={item.path}>{item.title}</NavLink>\n        </Menu.Item>) : null\n      if(item.path === '/product/categoryList/:id?') {\n        return item.menu\n        ? (<Menu.Item key={item.path}>\n            <NavLink to='/product/categoryList'>{item.title}</NavLink>\n          </Menu.Item>) : null\n      }\n      return item.menu\n        ? (<Menu.Item key={item.path}>\n            <NavLink to={item.path}>{item.title}</NavLink>\n          </Menu.Item>) : null\n    })\n  } else {\n    return routes.menu\n      ? (<Menu.Item key={routes.path} icon={routes.icon}>\n          <NavLink to={routes.path}>{routes.title}</NavLink>\n        </Menu.Item>) : null\n  }\n}\n\nfunction SiderDemo(props) {\n  const [collapsed, setCollapsed] = useState(false);\n  let username = _commonUtil.getStorage('userInfo').username;\n\n  const onCollapse = collapsed => {\n    setCollapsed(collapsed);\n  };\n\n  // 退出登录\n  const handleLogOut = () => {\n    _userService.onLogOut().then(res => {\n      _commonUtil.removeStorage('userInfo')\n      window.location.href = '/login';\n      _commonUtil.successTips(res)\n    }).catch(err => {\n      _commonUtil.errorTips(err)\n    })\n  }\n\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\n          <div className=\"logo\"> 后台管理 </div>\n          <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n            { showMenu(routes) }\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\">\n           <div className=\"login-out\">\n              <div className=\"login-title\"><UserOutlined style={{marginRight: '8px'}}/>{username ? (`欢迎：${username}`) :('欢迎您')}<CaretDownOutlined /></div>\n              <div className=\"login-out-content\" onClick={handleLogOut}><LoginOutlined style={{paddingRight: '12px', boxSizing: 'border-box'}} /> 退出登录</div>\n           </div>\n          </Header>\n          <Content style={{ margin: '0 16px' }}>\n            <BreadcrumbItem urlDetail={props.location} routes={routes}></BreadcrumbItem>\n            <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360, background: '#fff'}}>\n              {props.children}\n            </div>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\n        </Layout>\n      </Layout>\n    );\n}\n\nexport default withRouter(SiderDemo);\n\n","import { useEffect, useState } from 'react'\nimport './index.scss'\nimport { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport User from 'service/userService'\nimport CommonUtil from 'util/common'\n\nlet _user = new User();\nlet _commonUtil = new CommonUtil();\n\nconst LoginForm = (props) => {\n  let [redirect] = useState(_commonUtil.getUrlParam('redirect') || '/')\n\n  const onFinish = (values) => {\n    let loginInfo = {\n      username: values.username,\n      password: values.password\n    }\n    _user.login(loginInfo).then(res => {\n      // 登录成功，跳转页面，并保存个人信息\n      _commonUtil.successTips('登录成功');\n      _commonUtil.setStorage('userInfo', res);\n      props.history.push(redirect);\n    }).catch(err => {\n      // 登录失败，提示信息\n      _commonUtil.errorTips(err);\n\n    })\n  };\n  return (\n    <div className=\"login-content\">\n      <div className=\"login-header\">\n        <h1 className=\"title\">后台管理系统</h1>\n        <p className=\"tip\">为保护企业的数据安全，请妥善保管密码</p>\n      </div>\n      <Form\n        name=\"normal_login\"\n        className=\"login-form\"\n        onFinish={onFinish}\n        initialValues={{\n          username: 'admin',\n          password: 'admin'\n        }}\n      >\n        <Form.Item\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: 'Please input your Username!',\n            },\n          ]}\n        >\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\n        </Form.Item>\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: 'Please input your Password!',\n            },\n          ]}\n        >\n          <Input\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{width: '100%', borderRadius: '4px'}}>\n            Log in\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default LoginForm","/*\n * @Author: Guifen Shangguan \n * @Date: 2021-04-12 16:12:04 \n * @Last Modified by: Guifen Shangguan\n * @Last Modified time: 2021-05-09 18:48:34\n */\nimport React, { PureComponent } from 'react';\nimport { Result, Button, Typography } from 'antd';\nimport { Link } from 'react-router-dom';\nimport _ from 'lodash';\n\nconst { Paragraph } = Typography;\n\n//页面错误类型枚举\nconst ERROR_ENUM = {\n  LOAD_FAIL: 'LOAD_FAIL',\n  RELOADING: 'RELOADING'\n}\n \nclass MyErrorBoundary extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, errorText: '' };\n    this.clearError = this.clearError.bind(this);\n  }\n\n  static getDerivedStateFromError(error) {\n    // 更新 state 使下一次渲染可以显降级 UI\n    return { hasError: true, errorText: JSON.stringify(error) };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.handleError(error, errorInfo);\n  }\n\n  handleError = (error, errorInfo) => {\n    this.setData({hasError: true})\n    this.handleLoadingChunkError(error)\n  }\n  \n  handleLoadingChunkError = (error, errorInfo) => {\n    //页面浏览期间重新发布，会出现浏览器缓存文件名和服务器文件名不一致，导致下载js失败白屏的问题\n    const loadFailed = new RegExp(/Loading chunk (\\d)+ failed/g)\n    if (error && error.message && error.message.match(loadFailed)) {\n      this.setData({errorType: ERROR_ENUM.RELOADING})\n      let loadingChunk = sessionStorage.getItem('loadingChunk')\n      loadingChunk = _.isNumber(loadingChunk) ? loadingChunk + 1 : 1\n      if (loadingChunk > 2) {\n        this.setData({errorType: ERROR_ENUM.LOAD_FAIL})\n        //当前流程结束，重置loadingChunk\n        sessionStorage.setItem('loadingChunk', 0)\n      } else {\n        sessionStorage.setItem('loadingChunk', loadingChunk)\n        window.location.reload()\n      }\n    }\n  }\n  clearError () {\n    this.setState({\n      hasError: false,\n      errorText: '',\n    });\n  }\n\n  render() {\n    const { hasError, errorText } = this.state;\n    const { children } = this.props;\n    if (hasError) {\n      // 你可以渲染任何自定义的降级  UI\n      return (\n        <Result\n          status=\"error\"\n          title=\"页面出现错误\"\n          subTitle=\"组件渲染时出现的错误\"\n          extra={\n            <Link to=\"/\">\n              <Button onClick={this.clearError} type=\"primary\">忽略错误，返回首页</Button>\n            </Link>\n          }\n        >\n          <div className=\"desc\">\n            <Paragraph>{errorText}</Paragraph>\n          </div>\n        </Result>\n      );\n    }\n    return children;\n  }\n}\n\n\nexport default MyErrorBoundary;","import React, { Suspense } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport ErrorBoundary  from 'page/error';\r\n\r\nfunction resolveAsyncCompoment(LazyCompoment, routeProps) {\r\n  return <div>\r\n    <ErrorBoundary>\r\n      <Suspense fallback={<div>loading~~~~</div>}>\r\n        <LazyCompoment {...routeProps}></LazyCompoment>\r\n      </Suspense>\r\n    </ErrorBoundary>\r\n    </div>\r\n}\r\n\r\nfunction RenderRouter(props) {\r\n  const {\r\n    path,\r\n    component,\r\n    ...otherProps\r\n  } = props;\r\n  if (!component) {\r\n    return <Route path={path} {...otherProps} />\r\n  }\r\n  if(props.authority && !props.permission) {\r\n    let AuthorityError = React.lazy(() => import('page/error/authorityError'));\r\n    return <Route path={path} {...otherProps} render={(routeProps) => {\r\n      return resolveAsyncCompoment(AuthorityError, routeProps);\r\n    }} />\r\n  }\r\n  return <Route path={path} {...otherProps} render={(routeProps) => {\r\n    return resolveAsyncCompoment(component, routeProps);\r\n  }} />\r\n}\r\n\r\nexport default RenderRouter\r\n\r\n","/*\n * @Author: Guifen Shangguan \n * @Date: 2021-04-12 16:11:51 \n * @Last Modified by: Guifen Shangguan\n * @Last Modified time: 2021-05-09 21:08:10\n */\nimport { Switch, Route } from 'react-router-dom'\nimport routers from 'router/index';\nimport { useSelector } from \"react-redux\";\n\n\nimport Layout from 'component/layout'\nimport Login from 'page/login';\nimport RenderRouter from 'router/renderRouter'\n\n\n\nfunction routesMap(routes, roles) {\n  let permission = false;\n  if(roles.indexOf('admin') > -1) {\n    permission = true;\n  }\n\n  return routes.map(route => {\n    if(route.children) {\n      const routeChildren = route.children;\n      return routesMap(routeChildren, roles);\n    }\n    if(route.component) {\n      return <RenderRouter key={route.path} {...route} permission={permission} />\n    }\n\n    return <RenderRouter key={route.path} {...route} permission={permission} />\n  })\n}\n\nfunction App() {\n  const roles = useSelector(state => state.roles);\n\n  const LayoutRouter = (\n    <Layout>\n      <Switch>\n          {\n            routesMap(routers, roles)\n          }\n      </Switch>\n    </Layout>\n  )\n  return (\n    <div className=\"App\">\n        <Switch>\n          <Route path=\"/login\" component={Login}></Route>\n          <Route path=\"/\" render={(props) => {\n            return LayoutRouter\n          }}></Route>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actionTypes from './actionTypes'\r\n\r\nconst defaultState = {\r\n  roles: [\"user\"],\r\n}\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n  const newState = JSON.parse(JSON.stringify(state))\r\n  switch(action.type) {\r\n    case actionTypes.CREAT_SET_ROLES:\r\n      newState.roles = action.value;\r\n      break;\r\n    default:\r\n      return newState;\r\n  }\r\n  return newState;\r\n}","import { createStore } from 'redux';\r\n\r\nimport reducer from './reducer';\r\n\r\nexport default createStore(\r\n    reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App';\nimport './assets/reset.min.css'\nimport reportWebVitals from './reportWebVitals';\n\nimport store from 'store';\n\n\nReactDOM.render(\n  <BrowserRouter basename=\"/background-management-system\">\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { message } from 'antd';\n\nclass CommonUtil {\n  request(params) {\n    return new Promise((resolve, reject) => {\n      // eslint-disable-next-line no-undef\n      $.ajax({\n        type: params.type || 'get',\n        url: params.url || '',\n        dataType: params.dataType || 'json',\n        data: params.data || null,\n        success: res => {\n          // 数据请求成功\n          if (res.status === 0) {\n            typeof resolve === 'function' && resolve(res.data, res.msg);\n          } else if(res.status === 10) {\n            // 没有登录，强制登录\n            this.doLogin();\n          } else {\n            typeof reject === 'function' && reject(res.msg || res.data);\n          }\n  \n        },\n        error: err => {\n          typeof reject === 'function' && reject(err.msg || err.data);\n        }\n      })\n    })\n  }\n  // 跳转登录\n  doLogin() {\n    window.location.href = '/login?redirect=' + encodeURIComponent(window.location.pathname);\n  }\n\n  //获取URL参数\n  getUrlParam(name) {\n    // 获取问号之后的参数\n    let queryString = window.location.search.split('?')[1] || '',\n      reg = new RegExp(\"(^|&)\" + name + \"=([^&]*()&|$)\"),\n      result = queryString.match(reg);\n    return result ? decodeURIComponent(result[2]) : null;\n  }\n  // 错误提示\n  errorTips(errMsg) {\n    message.error(errMsg || 'An error has occurred');\n  }\n  // 成功提示\n  successTips(res) {\n    message.success(res || 'Successful operation');\n  }\n  // 本地存储\n  setStorage(name, data) {\n    let dataType = this.checkedType(data)\n    if(dataType === 'Object') {\n      window.localStorage.setItem(name, JSON.stringify(data));\n    } else if (['Number', 'String', 'Boolean'.indexOf(dataType)] !== -1) {\n      window.localStorage.setItem(name, data);\n    } else {\n      this.errorTips('该类型不能用于本地存储');\n    }    \n  }\n\n  // 取出本地存储的内容\n  getStorage(name) {\n    let data = window.localStorage.getItem(name);\n    return data ? JSON.parse(data) : '';\n  }\n\n  // 删除本地存储\n  removeStorage(name) {\n    window.localStorage.removeItem(name);\n  }\n\n  // 类型判断\n  checkedType(target) {\n    //[Object Array].slice(8, -1) = Array\n    return Object.prototype.toString.call(target).slice(8, -1)\n  }\n  \n}\n\n\n\n\n\n\nexport default CommonUtil;\n","import CommonUtil from 'util/common';\n\nlet _CommonUtil = new CommonUtil();\n\nclass User{\n  login(loginInfo) {\n    return _CommonUtil.request({\n      type: 'post',\n      url: '/manage/user/login.do',\n      data: loginInfo\n    });\n  };\n  onLogOut() {\n    return _CommonUtil.request({\n      type: 'post',\n      url: '/user/logout.do'\n    });\n  };\n  getUserList(pageNum) {\n    return _CommonUtil.request({\n      type: 'post',\n      url: '/manage/user/list.do',\n      data: {\n        pageNum: pageNum\n      }\n    })\n  }\n}\n\nexport default User;\n"],"sourceRoot":""}