{"version":3,"sources":["service/statisticService.js","page/home/index.jsx"],"names":["_commonUtil","CommonUtil","Statistic","request","url","_statistic","Home","useState","itemsArr","setItemsArr","useEffect","items","getHomeCount","then","res","forEach","item","index","countName","count","catch","err","errorTips","loadCount","name","color","icon","UnorderedListOutlined","FormOutlined","UserOutlined","id","className","map","style","background","to"],"mappings":"kLAEIA,EAAc,IAAIC,IAWPC,E,4FAPb,WACE,OAAOF,EAAYG,QAAQ,CACzBC,IAAK,wC,uCCIPJ,EAAc,IAAIC,IAChBI,EAAa,IAAIH,EAoERI,UAlEf,WAAiB,IAAD,EACgBC,mBAAS,IADzB,mBACTC,EADS,KACCC,EADD,KA6Cd,OA1BAC,qBAAU,YAfQ,SAACC,GACjBN,EAAWO,eAAeC,MAAK,SAAAC,GAC7BH,EAAMI,SAAQ,SAAAC,GACZ,IAAIC,EAAQD,EAAKE,UACdJ,EAAIG,KACLD,EAAKG,MAAQL,EAAIG,OAIrBR,EAAYE,MACXS,OAAM,SAAAC,GACPrB,EAAYsB,UAAUD,MAyBxBE,CApBY,CAAC,CACXC,KAAM,2BACNL,MAAO,IACPD,UAAW,eACXO,MAAO,UACPC,KAAM,cAACC,EAAA,EAAD,KACL,CACDH,KAAM,2BACNL,MAAO,IACPD,UAAW,aACXO,MAAO,UACPC,KAAO,cAACE,EAAA,EAAD,KACN,CACDJ,KAAM,2BACNL,MAAO,IACPD,UAAW,YACXO,MAAO,UACPC,KAAM,cAACG,EAAA,EAAD,SAKP,IAID,qBAAKC,GAAG,eAAR,SACE,qBAAKC,UAAU,MAAf,SAEMvB,EAAWA,EAASwB,KAAI,SAAAhB,GACtB,OAAO,qBAAKe,UAAU,WAAWE,MAAO,CAACC,WAAW,GAAD,OAAKlB,EAAKS,QAAtD,SACL,eAAC,IAAD,CAAMU,GAAG,QAAQJ,UAAU,eAA3B,UACE,mBAAGA,UAAU,QAAb,SAAsBf,EAAKG,QAC3B,oBAAGY,UAAU,OAAb,UACGf,EAAKU,KACN,+BAAOV,EAAKQ,cAL0DR,EAAKE,cAS9E","file":"static/js/14.f7151ee9.chunk.js","sourcesContent":["import CommonUtil from 'util/common';\r\n\r\nlet _commonUtil = new CommonUtil();\r\n\r\n\r\nclass Statistic {\r\n  getHomeCount() {\r\n    return _commonUtil.request({\r\n      url: '/manage/statistic/base_count.do'\r\n    })\r\n  }\r\n}\r\n\r\nexport default Statistic","import { Link } from 'react-router-dom'\nimport { useEffect, useState } from 'react';\nimport './index.scss'\nimport Statistic from 'service/statisticService'\nimport {\n  UnorderedListOutlined,\n  FormOutlined,\n  UserOutlined,\n} from '@ant-design/icons';\n\nimport CommonUtil from 'util/common'\n\nlet _commonUtil = new CommonUtil();\nconst _statistic = new Statistic();\n\nfunction Home() {\n  let [itemsArr, setItemsArr] = useState([])\n\n  // 获取数据并更新数据\n  const loadCount = (items) => {\n    _statistic.getHomeCount().then(res => {\n      items.forEach(item => {\n        let index = item.countName;\n        if(res[index]) {\n          item.count = res[index];\n        }\n      })\n      // 更新数据\n      setItemsArr(items);\n    }).catch(err => {\n      _commonUtil.errorTips(err);\n    })\n  }  \n\n  useEffect(() => {\n    let items = [{\n      name: '商品总数',\n      count: '-',\n      countName: 'productCount',\n      color: '#f0dD4e',\n      icon: <UnorderedListOutlined />\n    }, {\n      name: '订单总数',\n      count: '-',\n      countName: 'orderCount',\n      color: '#5cb85c',\n      icon : <FormOutlined />\n    }, {\n      name: '用户总数',\n      count: '-',\n      countName: 'userCount',\n      color: '#4cb1cf',\n      icon: <UserOutlined />\n    }];\n  \n    loadCount(items);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  return (\n    <div id=\"page-wrapper\">\n      <div className=\"row\">\n          {\n            itemsArr ? itemsArr.map(item => {\n              return <div className=\"row-item\" style={{background: `${item.color}`}} key={item.countName}>\n                <Link to=\"/user\" className=\"row-item-box\">\n                  <p className=\"count\">{item.count}</p>\n                  <p className=\"desc\">\n                    {item.icon}\n                    <span>{item.name}</span>\n                  </p>\n                </Link>\n              </div>     \n            }) : <div> loading~~~ </div>\n          }\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}