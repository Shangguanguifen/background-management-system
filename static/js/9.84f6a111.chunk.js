(this.webpackJsonpa=this.webpackJsonpa||[]).push([[9],{446:function(e,t,a){"use strict";var n=a(61),r=a(62),c=new(a(58).a),o=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getProductList",value:function(e){var t="",a={};return a.pageNum=e.pageNum,"list"===e.listType?t="/manage/product/list.do":"search"===e.listType&&(t="/manage/product/search.do",a[e.searchType]=e.searchKeyword),c.request({type:"post",url:t,data:a})}},{key:"getProduct",value:function(e){return c.request({type:"post",url:"/manage/product/detail.do",data:{productId:e||0}})}},{key:"setProductStatus",value:function(e){return c.request({type:"post",url:"/manage/product/set_sale_status.do",data:e})}},{key:"getCategoryList",value:function(e){return c.request({type:"post",url:"/manage/category/get_category.do",data:{categoryId:e||0}})}},{key:"addProduct",value:function(e){return c.request({type:"post",url:"/manage/product/save.do",data:e})}},{key:"updateCategoryName",value:function(e){return c.request({type:"post",url:"/manage/category/set_category_name.do",data:e})}},{key:"addCategory",value:function(e){return c.request({type:"post",url:"/manage/category/add_category.do",data:e})}}]),e}();t.a=o},451:function(e,t,a){"use strict";var n=a(3),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SpaceContext=void 0;var c=r(a(7)),o=r(a(13)),l=r(a(22)),i=n(a(0)),s=r(a(5)),u=r(a(83)),d=a(11),f=r(a(471)),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},y=i.createContext({latestIndex:0,horizontalSize:0,verticalSize:0});t.SpaceContext=y;var v={small:8,middle:16,large:24};var b=function(e){var t,a=i.useContext(d.ConfigContext),n=a.getPrefixCls,r=a.space,b=a.direction,m=e.size,g=void 0===m?(null===r||void 0===r?void 0:r.size)||"small":m,h=e.align,j=e.className,O=e.children,x=e.direction,C=void 0===x?"horizontal":x,k=e.prefixCls,S=e.split,w=e.style,P=e.wrap,E=void 0!==P&&P,N=p(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),I=i.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?v[e]:e||0}(e)}))}),[g]),z=(0,l.default)(I,2),q=z[0],_=z[1],T=(0,u.default)(O,{keepEmpty:!0});if(0===T.length)return null;var M=void 0===h&&"horizontal"===C?"center":h,R=n("space",k),B=(0,s.default)(R,"".concat(R,"-").concat(C),(t={},(0,o.default)(t,"".concat(R,"-rtl"),"rtl"===b),(0,o.default)(t,"".concat(R,"-align-").concat(M),M),t),j),L="".concat(R,"-item"),K="rtl"===b?"marginLeft":"marginRight",A=0,D=T.map((function(e,t){return null!==e&&void 0!==e&&(A=t),i.createElement(f.default,{className:L,key:"".concat(L,"-").concat(t),direction:C,index:t,marginDirection:K,split:S,wrap:E},e)}));return i.createElement("div",(0,c.default)({className:B,style:(0,c.default)((0,c.default)({},E&&{flexWrap:"wrap",marginBottom:-_}),w)},N),i.createElement(y.Provider,{value:{horizontalSize:q,verticalSize:_,latestIndex:A}},D))};t.default=b},469:function(e,t,a){"use strict";a(34),a(470)},470:function(e,t,a){},471:function(e,t,a){"use strict";var n=a(3),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,a=e.direction,n=e.index,r=e.marginDirection,s=e.children,u=e.split,d=e.wrap,f=l.useContext(i.SpaceContext),p=f.horizontalSize,y=f.verticalSize,v=f.latestIndex,b={};"vertical"===a?n<v&&(b={marginBottom:p/(u?2:1)}):b=(0,o.default)((0,o.default)({},n<v&&(0,c.default)({},r,p/(u?2:1))),d&&{paddingBottom:y});if(null===s||void 0===s)return null;return l.createElement(l.Fragment,null,l.createElement("div",{className:t,style:b},s),n<v&&u&&l.createElement("span",{className:"".concat(t,"-split"),style:b},u))};var c=r(a(13)),o=r(a(7)),l=n(a(0)),i=a(451)},518:function(e,t,a){"use strict";a(34),a(519)},519:function(e,t,a){},520:function(e,t,a){},522:function(e,t,a){"use strict";var n=a(3),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(13)),o=r(a(7)),l=r(a(22)),i=n(a(0)),s=r(a(5)),u=r(a(42)),d=r(a(188)),f=r(a(523)),p=a(11),y=a(211),v=r(a(210)),b=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},m=new RegExp("^(".concat(y.PresetColorTypes.join("|"),")(-inverse)?$")),g=new RegExp("^(".concat(y.PresetStatusColorTypes.join("|"),")$")),h=function(e,t){var a,n=e.prefixCls,r=e.className,f=e.style,y=e.children,h=e.icon,j=e.color,O=e.onClose,x=e.closeIcon,C=e.closable,k=void 0!==C&&C,S=b(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),w=i.useContext(p.ConfigContext),P=w.getPrefixCls,E=w.direction,N=i.useState(!0),I=(0,l.default)(N,2),z=I[0],q=I[1];i.useEffect((function(){"visible"in S&&q(S.visible)}),[S.visible]);var _=function(){return!!j&&(m.test(j)||g.test(j))},T=(0,o.default)({backgroundColor:j&&!_()?j:void 0},f),M=_(),R=P("tag",n),B=(0,s.default)(R,(a={},(0,c.default)(a,"".concat(R,"-").concat(j),M),(0,c.default)(a,"".concat(R,"-has-color"),j&&!M),(0,c.default)(a,"".concat(R,"-hidden"),!z),(0,c.default)(a,"".concat(R,"-rtl"),"rtl"===E),a),r),L=function(e){e.stopPropagation(),null===O||void 0===O||O(e),e.defaultPrevented||"visible"in S||q(!1)},K="onClick"in S||y&&"a"===y.type,A=(0,u.default)(S,["visible"]),D=h||null,F=D?i.createElement(i.Fragment,null,D,i.createElement("span",null,y)):y,J=i.createElement("span",(0,o.default)({},A,{ref:t,className:B,style:T}),F,k?x?i.createElement("span",{className:"".concat(R,"-close-icon"),onClick:L},x):i.createElement(d.default,{className:"".concat(R,"-close-icon"),onClick:L}):null);return K?i.createElement(v.default,null,J):J},j=i.forwardRef(h);j.displayName="Tag",j.CheckableTag=f.default;var O=j;t.default=O},523:function(e,t,a){"use strict";var n=a(3),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(7)),o=r(a(13)),l=n(a(0)),i=r(a(5)),s=a(11),u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},d=function(e){var t,a=e.prefixCls,n=e.className,r=e.checked,d=e.onChange,f=e.onClick,p=u(e,["prefixCls","className","checked","onChange","onClick"]),y=(0,l.useContext(s.ConfigContext).getPrefixCls)("tag",a),v=(0,i.default)(y,(t={},(0,o.default)(t,"".concat(y,"-checkable"),!0),(0,o.default)(t,"".concat(y,"-checkable-checked"),r),t),n);return l.createElement("span",(0,c.default)({},p,{className:v,onClick:function(e){null===d||void 0===d||d(!r),null===f||void 0===f||f(e)}}))};t.default=d},646:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=a(25),o=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="PlusOutlined";t.a=n.forwardRef(o)},658:function(e,t,a){"use strict";a.r(t);a(449);var n=a(452),r=a.n(n),c=(a(81),a(59)),o=a.n(c),l=(a(469),a(451)),i=a.n(l),s=(a(518),a(522)),u=a.n(s),d=a(60),f=a(0),p=a(31),y=a(646),v=(a(520),a(133),a(106)),b=a.n(v),m=(a(460),a(450)),g=a.n(m),h=a(4),j=g.a.Option;var O=function(e){var t=Object(f.useState)("productId"),a=Object(d.a)(t,2),n=a[0],r=a[1],c=Object(f.useState)(""),o=Object(d.a)(c,2),l=o[0],i=o[1];return Object(f.useEffect)((function(){e.onSearch(n,l)}),[n,l]),Object(h.jsxs)("div",{children:[Object(h.jsxs)(b.a.Group,{compact:!0,className:"table-search",children:[Object(h.jsxs)(g.a,{defaultValue:"productId",onChange:function(e){r(e)},children:[Object(h.jsx)(j,{value:"productId",children:"\u6309\u5546\u54c1id\u67e5\u8be2"}),Object(h.jsx)(j,{value:"productName",children:"\u6309\u5546\u54c1\u540d\u79f0\u67e5\u8be2"})]}),Object(h.jsx)(b.a.Search,{style:{width:"50%"},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd",name:"searchKeyword",onSearch:function(e){i(e)}})]}),e.children]})},x=a(446),C=new(a(58).a),k=new x.a;t.default=function(){var e=Object(f.useState)(1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(f.useState)([]),l=Object(d.a)(c,2),s=l[0],v=l[1],b=Object(f.useState)(1),m=Object(d.a)(b,2),g=m[0],j=m[1],x=Object(f.useState)("list"),S=Object(d.a)(x,2),w=S[0],P=S[1],E=Object(f.useState)(""),N=Object(d.a)(E,2),I=N[0],z=N[1],q=Object(f.useState)(""),_=Object(d.a)(q,2),T=_[0],M=_[1],R=[{title:"id",dataIndex:"id",key:"id"},{title:"\u5546\u54c1\u540d\u5b57",dataIndex:"name",key:"name"},{title:"\u4fe1\u606f",dataIndex:"subtitle",key:"subtitle"},{title:"\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u72b6\u6001",key:"status",dataIndex:"status",render:function(e,t){var a=1===e?"green":"volcano";return Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{style:{display:"inline",marginRight:"10px"},children:1===e?"\u6b63\u5728\u552e":"\u5df2\u4e0b\u67b6"}),Object(h.jsx)(u.a,{color:a,onClick:function(a){return B(a,t,e)},children:1===e?"\u4e0b\u67b6":"\u4e0a\u67b6"})]})}},{title:"\u64cd\u4f5c",key:"action",render:function(e){return Object(h.jsxs)(i.a,{size:"middle",children:[Object(h.jsx)(p.b,{to:"/product/detail/".concat(e.id),children:"\u67e5\u770b"}),Object(h.jsx)(p.b,{to:"/product/save/".concat(e.id),children:"\u7f16\u8f91"})]})}}],B=function(e,t,n){console.log(t,n);var r=1===n?2:1,c=1===n?"\u786e\u5b9a\u8981\u4e0b\u67b6\u8be5\u5546\u54c1\uff1f":"\u786e\u5b9a\u8981\u4e0a\u67b6\u8be5\u5546\u54c1\uff1f";window.confirm(c)&&k.setProductStatus({productId:t.id,status:r}).then((function(e){C.successTips(e),L(w,a,I,T)})).catch((function(e){console.log(e,"err"),C.errorTips(e)}))},L=function(e,t,a,n){var r={};r.listType=e,r.pageNum=t,"search"===e&&(r.searchType=a,r.searchKeyword=n),k.getProductList(r).then((function(e){e.list.forEach((function(e){e.key=e.id})),j(10*e.lastPage),v(e.list)})).catch((function(e){C.errorTips("\u9519\u8bef\u64cd\u4f5c\uff0c\u8bf7\u8f93\u5165\u6709\u6548\u5b57\u6bb5")}))};return Object(f.useEffect)((function(){L(w,a,I,T)}),[w,a,I,T]),Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{onSearch:function(e,t){P(t?"search":"list"),z(e),M(t),n(1)},children:Object(h.jsx)(p.b,{to:"/product/save",children:Object(h.jsx)(o.a,{type:"primary",size:"large",className:"table-button",icon:Object(h.jsx)(y.a,{style:{fontWeight:700}}),children:"\u6dfb\u52a0\u5546\u54c1"})})}),Object(h.jsx)(r.a,{columns:R,dataSource:s,onChange:function(e){n(e.current)},pagination:{total:g}})]})}}}]);
//# sourceMappingURL=9.84f6a111.chunk.js.map