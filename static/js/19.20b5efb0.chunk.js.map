{"version":3,"sources":["page/user/index.jsx"],"names":["_user","User","_commonUtil","CommonUtil","columns","title","dataIndex","key","UserList","useState","pageNum","setPageNum","dataList","setDataList","dataNum","setDataNum","useEffect","getUserList","then","res","list","forEach","item","id","createTime","Date","toLocaleString","navigatePages","catch","err","errorTips","handleGetUserList","dataSource","onChange","e","current","pagination","total"],"mappings":"mKAKIA,EAAQ,IAAIC,IACZC,EAAc,IAAIC,IAGhBC,EAAU,CACd,CACEC,MAAO,KACPC,UAAW,KACXC,IAAK,MAEP,CACEF,MAAO,qBACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,eACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,eACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,2BACPC,UAAW,aACXC,IAAK,eAoCMC,UAhCf,WAAqB,IAAD,EACYC,mBAAS,GADrB,mBACXC,EADW,KACFC,EADE,OAEcF,mBAAS,IAFvB,mBAEXG,EAFW,KAEDC,EAFC,OAGYJ,mBAAS,GAHrB,mBAGXK,EAHW,KAGFC,EAHE,KA2BlB,OAJAC,qBAAU,YAlBgB,SAACN,GACzBV,EAAMiB,YAAYP,GAASQ,MAAK,SAAAC,GAChBA,EAAIC,KACVC,SAAQ,SAAAC,GACdA,EAAKf,IAAMe,EAAKC,GAChBD,EAAKE,WAAa,IAAIC,KAAKH,EAAKE,YAAYE,oBAG9CX,EAA+B,GAApBI,EAAIQ,eACfd,EAAYM,EAAIC,SACfQ,OAAM,SAAAC,GACP3B,EAAY4B,UAAUD,MAQxBE,CAAkBrB,KACjB,CAACA,IAEG,mBAAON,QAASA,EAAS4B,WAAYpB,EAAUqB,SAR1B,SAACC,GAC3BvB,EAAWuB,EAAEC,UAOsEC,WAAY,CAC/FC,MAAOvB","file":"static/js/19.20b5efb0.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport { Table } from 'antd';\nimport User from 'service/userService'\nimport CommonUtil from 'util/common'\n\nlet _user = new User();\nlet _commonUtil = new CommonUtil();\n\n\nconst columns = [\n  {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n  },\n  {\n    title: '用户名',\n    dataIndex: 'username',\n    key: 'username',\n  },\n  {\n    title: '邮箱',\n    dataIndex: 'email',\n    key: 'email',\n  },\n  {\n    title: '电话',\n    dataIndex: 'phone',\n    key: 'phone',\n  },\n  {\n    title: '注册时间',\n    dataIndex: 'createTime',\n    key: 'createTime',\n  },\n];\n\nfunction UserList() {\n  const [pageNum, setPageNum] = useState(1)\n  const [dataList, setDataList] = useState([])\n  const [dataNum, setDataNum] = useState(1)\n\n  const handleGetUserList = (pageNum) => {\n    _user.getUserList(pageNum).then(res => {\n      let resList = res.list\n      resList.forEach(item => {\n        item.key = item.id\n        item.createTime = new Date(item.createTime).toLocaleString()\n      })\n      \n      setDataNum(res.navigatePages * 10)\n      setDataList(res.list)\n    }).catch(err => {\n      _commonUtil.errorTips(err)\n    })\n  }\n  const handleChangePageNum = (e) => {\n    setPageNum(e.current)\n  }\n\n  useEffect(() => {\n    handleGetUserList(pageNum)\n  }, [pageNum])\n\n  return <Table columns={columns} dataSource={dataList} onChange={handleChangePageNum} pagination={{\n    total: dataNum\n  }}></Table>\n}\n\nexport default UserList;"],"sourceRoot":""}